
@{
    ViewBag.Title = "AgregarCarritoBicicleta";
    Layout = "~/Views/Shared/_LayoutCliente.cshtml";
}


<header>

    <div class="row">
        <div class="col-lg-12">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="~/Cliente/PrincipalCliente">Inicio <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="~/Producto/TodasBicicletas">Bicicletas<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="~/Producto/TodosScooter">Scooters<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="~/Producto/TodosAccesorios">Accesorios<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="#">Contactanos<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="~/Cliente/Login">Login<span class="sr-only">(current)</span></a>
                        </li>

                    </ul>
                </div>
            </nav>
        </div>
    </div>

</header>
<br />

<section>

    <h2>CARRITO DE COMPRAS</h2>
    <br />
    <div class="wrapper">

        <div class="row">

            <br />
            <br />
            <div class="col-xs-12 col-sm-6 col-lg-8">

                @{ double a = 0; double b = 0; double c = 0;}
                @if (Session["Carrito"] != null)
                {
                    foreach (var item in Session["Carrito"] as List<Venta_Bicis_Scooters.ENTITY.CarritoItem>)
                    {
                        if (ViewBag.codigo <= 100)
                        {
                            a += (double)(item.Cantidad * (item.Bicicleta.Precio));

                            <div class="col-sm-12 card" style="float: left;margin-bottom: 40px;flex-direction:inherit;border:none;">

                                <div class="col-sm-6 ">
                                    <img src="@item.Bicicleta.Imagen" style="width:50%;">

                                </div>

                                <div class="col-sm-6 ">
                                    <p style="font-size:14px;">
                                        <strong>@item.Bicicleta.Descripcion  </strong>  <br />
                                        <U> @item.Bicicleta.Marca       </U><br />
                                        Cantidad: @item.Cantidad <br /> <br />
                                        S/. @String.Format("{0:f}", (item.Cantidad * item.Bicicleta.Precio)) <br />

                                    </p>
                                    @Html.ActionLink("ELIMINAR", "Delete", "Producto", new { id = item.Bicicleta.ID }, new { @class = "btn btn-danger" })

                                </div>

                                <br />
                            </div>
                        }

                        else if (ViewBag.codigo <= 200)
                        {

                            b += (double)(item.Cantidad * (item.Scooter.Precio));

                            <div class="col-sm-12 card" style="float: left;margin-bottom: 40px;flex-direction:inherit;border:none;">

                                <div class="col-sm-6 ">
                                    <img src="@item.Scooter.Imagen" style="width:50%;">

                                </div>

                                <div class="col-sm-6 ">
                                    <p style="font-size:14px;">
                                        <strong>@item.Scooter.Descripcion  </strong>  <br />
                                        <U> @item.Scooter.Marca       </U><br />
                                        Cantidad: @item.Cantidad <br /> <br />
                                        S/. @String.Format("{0:f}", (item.Cantidad * item.Scooter.Precio)) <br />

                                    </p>
                                    @Html.ActionLink("ELIMINAR", "Delete", "Producto", new { id = item.Scooter.ID }, new { @class = "btn btn-danger" })

                                </div>

                                <br />
                            </div>
                        }


                        else if (ViewBag.codigo <= 300)
                        {

                            c += (double)(item.Cantidad * (item.Accesorio.Precio));

                            <div class="col-sm-12 card" style="float: left;margin-bottom: 40px;flex-direction:inherit;border:none;">

                                <div class="col-sm-6 ">
                                    <img src="@item.Accesorio.Imagen" style="width:50%;">

                                </div>

                                <div class="col-sm-6 ">
                                    <p style="font-size:14px;">
                                        <strong>@item.Accesorio.Descripcion  </strong>  <br />
                                        <U> @item.Accesorio.Marca       </U><br />
                                        Cantidad: @item.Cantidad <br /> <br />
                                        S/. @String.Format("{0:f}", (item.Cantidad * item.Accesorio.Precio)) <br />

                                    </p>
                                    @Html.ActionLink("ELIMINAR", "Delete", "Producto", new { id = item.Accesorio.ID }, new { @class = "btn btn-danger" })

                                </div>

                                <br />
                            </div>

                        }




                       
                    }
                }


            </div>




            <div class="col-xs-6 col-lg-4 card">
                <h5>Resumen de Pedido</h5>
                <p> Total a Pagar: S/. @String.Format("{0:f}", a + b+ c) </p>
                <br />
                 @Html.ActionLink("PROCESAR COMPRA", "AgregarCarrito", "Carrito", null, new { @class = "btn btn-success" })

            </div>


        </div>


    </div>

</section>

